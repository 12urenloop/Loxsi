<!DOCTYPE html>
<html lang="en" class="tui-bg-blue-black" id="root">
<head>
  <meta charset="UTF-8">
  <title>Loxsi de Proxy</title>
  <link href="/static/tuicss/tuicss.min.css" rel="stylesheet"/>
  <script src="/static/tuicss/tuicss.min.js"></script>
  <script src="/static/js/jquery-3.7.1.min.js"></script>
  <script src="/static/admin.js"></script>
</head>
<body>
<div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80%">
  <div class="row">
    <div class="col l6 m6 s6">
      <div class="tui-window" style="margin-bottom: 20px; width: 100%">
        <fieldset class="tui-fieldset">
          <legend>Active Sources</legend>
          <div>
            Lap: <span id="active-lap-source">Loading...</span>
          </div>
          <div>
            Position: <span id="active-position-source">Loading...</span>
          </div>
        </fieldset>
      </div>
    </div>
    <div class="col l6 m6 s6">
      <div class="tui-window" style="margin-bottom: 20px; width: 100%">
        <fieldset class="tui-fieldset">
          <legend>Active Connections</legend>
          <span class="tui-fieldset-text right"></span>
          <div id="active-connections">
            Loading...
          </div>
        </fieldset>
      </div>
    </div>
    <div class="col l12 m12 s12">
      <div class="row">
        <div class="col l6 m6 s6">
          <div class="tui-window" style="width: 100%">
            <fieldset class="tui-fieldset">
              <legend>Status Message</legend>
              <label>
                <textarea id="message-text" class="tui-input" style="width: 100%; height: 100px"></textarea>
              </label>
              <div class="row">
                <div class="col l6 m12 s12" style="margin-top: 20px">
                  <button class="tui-button green-168 green-255-hover" style="width: 100%"
                          onclick="sendMessage(document.getElementById('message-text').value)">
                    Send
                  </button>
                </div>
                <div class="col l6 m12 s12" style="margin-top: 20px">
                  <button class="tui-button red-168 red-255-hover" style="width: 100%" onclick="deleteMessage()">
                    Remove
                  </button>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
        <div class="col l6 m6 s6">
          <div class="tui-window" style="width: 100%">
            <fieldset class="tui-fieldset">
              <legend class="center">Freeze: Time to pause the scoreboard at.</legend>
              <div class="row">
                <div class="col l12 m12 s12">
                  <label>
                    <input class="tui-input" type="datetime-local" id="freeze-time" style="width: 100%"/>
                  </label>
                </div>

                <div class="col l12 m12 s12">
                  <div class="row">
                    <div class="col l6 m12 s12" style="margin-top: 20px">
                      <button class="tui-button green-168 green-255-hover" style="width: 100%"
                              onclick="sendTime(document.getElementById('freeze-time').value)">
                        Set
                      </button>
                    </div>
                    <div class="col l6 m12 s12" style="margin-top: 20px">
                      <button class="tui-button red-168 red-255-hover" style="width: 100%"
                              onclick="deleteTime()">
                        Remove
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
      </div>
    </div>
    <div class="col l6 m12 s12">
      <div class="tui-window" style="margin-bottom: 20px; width: 100%">
        <fieldset class="tui-fieldset">
          <legend class="center" id="window-title">Lap Source</legend>
          <div>
            Select a source to use for <span class="orange-168-text">lap</span> data
            <hr class="tui-divider" style="margin-top: 20px">
            <div class="row" id="lap_sources"></div>
          </div>
        </fieldset>
      </div>
    </div>
    <div class="col l6 m12 s12">
      <div class="tui-window" style="margin-bottom: 20px; width: 100%">
        <fieldset class="tui-fieldset">
          <legend class="center" id="window-title">Position Source</legend>
          <div>
            Select a source to use for <span class="orange-168-text">position</span> data
            <hr class="tui-divider" style="margin-top: 20px">
            <div class="row" id="position_sources"></div>
          </div>
        </fieldset>
      </div>
    </div>
    <div class="col l12 m12 s12">
      <div class="tui-window black-168" style="width: 100%">
        <fieldset class="tui-fieldset">
          <legend class="center" id="message"></legend>
          <span class="tui-fieldset-text" id="chart-message">Connecting...</span>
          <span class="tui-fieldset-text right" id="frozen-message">Connecting...</span>
          <div class="tui-chart-vertical" style="width: 100%; height: 200px">
            <div class="tui-chart-display" id="chart">
            </div>
            <div class="tui-chart-x-axis" id="chart-legend">
            </div>
          </div>
        </fieldset>
      </div>
    </div>
    <div class="col l12 m12 s12">
      <div class="row">
        <div class="col l6 m12 s12" style="margin-top: 20px">
          <button class="tui-button green-168 green-255-hover" style="width: 100%"
                  onclick="forceClientRefresh()">
            Force refresh all clients
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
